{"version":3,"sources":["components/Login.js","components/BookList.js","components/CreateBook.js","components/UserList.js","components/CreateUser.js","components/Navigation.js","components/ReservationList.js","components/DashboardRoutes.js","App.js","index.js"],"names":["cookies","Cookies","Login","useState","email","setemail","history","useHistory","show","msg","error","seterror","a","axios","get","data","set","_id","path","role","replace","setTimeout","class","style","position","right","top","className","maxWidth","for","value","onChange","e","target","type","id","onClick","validate_email","BookList","SESSION_ID","user","setuser","book","setbook","setrole","search","setsearch","getData","res","res2","books","useEffect","searchData","deleteBook","delete","reserveBook","title","author","year","genre","stock","post","id_user","id_book","student","first_name","last_name","status","put","to","scope","map","index","marginRight","width","margin","placeholder","CreateBook","editing","setediting","useParams","create","push","updateBook","insertBook","ROLE","UserList","deleteUser","CreateUser","updateUser","insertUser","Navigation","src","alt","height","cursor","remove","tabIndex","ReservationList","reserv","setreserv","info","setinfo","sessionid","returnBook","resv","returnToStock","DashboardRoutes","exact","component","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.977d97f7.chunk.js","sourcesContent":["import React, { useState } from 'react'\r\nimport axios from 'axios';\r\nimport { useHistory } from 'react-router-dom';\r\nimport Cookies from 'universal-cookie';\r\n\r\nconst cookies = new Cookies();\r\n\r\nexport const Login = () => {\r\n\r\n    const [email, setemail] = useState('');\r\n    const history = useHistory();\r\n    const [error, seterror] = useState({\r\n        show: false,\r\n        msg: ''\r\n    })\r\n\r\n    async function validate_email() {\r\n        if (email != \"\") {\r\n            const { data } = await axios.get(`https://my-u-library-mern.herokuapp.com/api/users/auth/` + email);\r\n            if (data) {\r\n                cookies.set('id', data._id, { path: \"/\" });\r\n                cookies.set('role', data.role, { path: \"/\" });\r\n                history.replace(`/books`);\r\n            } else {\r\n                seterror({\r\n                    show: true,\r\n                    msg: 'User not exist'\r\n                });\r\n                setTimeout(() => {\r\n                    seterror({\r\n                        ...error,\r\n                        show: false\r\n                    })\r\n                }, 2000);\r\n            };\r\n        } else {\r\n            seterror({\r\n                show: true,\r\n                msg: 'Empty email'\r\n            });\r\n            setTimeout(() => {\r\n                seterror({\r\n                    ...error,\r\n                    show: false\r\n                })\r\n            }, 2000);\r\n        }\r\n    }\r\n\r\n    const login = () => {\r\n        validate_email();\r\n    }\r\n\r\n\r\n    return (\r\n        <>\r\n            {\r\n                error.show == true &&\r\n                <div class=\"alert alert-danger\" role=\"alert\"\r\n                    style={{\r\n                        position: \"absolute\",\r\n                        right: 20,\r\n                        top: 20\r\n                    }}\r\n                >\r\n                    {error.msg}\r\n                </div>\r\n            }\r\n            <div className=\"container p-5\" style={{ maxWidth: 500 }}>\r\n                <div className=\"mb-3\">\r\n                    <label for=\"exampleInputEmail1\" className=\"form-label\">Email address</label>\r\n                    <input\r\n                        value={email}\r\n                        onChange={(e) => setemail(e.target.value)}\r\n                        type=\"email\" className=\"form-control\" id=\"exampleInputEmail1\" aria-describedby=\"emailHelp\" />\r\n                    <div id=\"emailHelp\" className=\"form-text\">Sign in with your email.</div>\r\n                </div>\r\n                <button onClick={login} type=\"submit\" className=\"btn btn-primary\">Login</button>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n","import React, { useEffect, useState } from 'react'\r\nimport axios from 'axios';\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport Cookies from 'universal-cookie';\r\nconst cookies = new Cookies();\r\n\r\nexport const BookList = () => {\r\n\r\n    const SESSION_ID = cookies.get('id');\r\n\r\n    const [user, setuser] = useState({})\r\n\r\n    const [book, setbook] = useState([]);\r\n    const [role, setrole] = useState(null)\r\n    const [reservation, setreservation] = useState({});\r\n    const [search, setsearch] = useState('');\r\n\r\n    async function getData() {\r\n        const res = await axios.get('https://my-u-library-mern.herokuapp.com/api/books');\r\n        setbook(res.data);\r\n        const res2 = await axios.get(`https://my-u-library-mern.herokuapp.com/api/users/${SESSION_ID}`);\r\n        setuser(res2.data);\r\n    }\r\n\r\n    async function searchData(search) {\r\n        const books = await axios.get(`https://my-u-library-mern.herokuapp.com/api/books/search/${search}`);\r\n        setbook(books.data);\r\n    }\r\n\r\n    useEffect(() => {\r\n        setrole(cookies.get('role'));\r\n        getData();\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        if (search != '') {\r\n            searchData(search);\r\n        } else {\r\n            getData();\r\n\r\n        }\r\n    }, [search])\r\n\r\n    const deleteBook = async (id) => {\r\n        await axios.delete(`https://my-u-library-mern.herokuapp.com/api/books/${id}`);\r\n        getData();\r\n    }\r\n\r\n    const reserveBook = async (book) => {\r\n\r\n        const { title, author, year, genre, stock } = book;\r\n\r\n        await axios.post('https://my-u-library-mern.herokuapp.com/api/reservations/', {\r\n            id_user: SESSION_ID,\r\n            id_book: book._id,\r\n            book: book.title,\r\n            author: book.author,\r\n            student: user.first_name + \" \" + user.last_name,\r\n            status: 1\r\n        });\r\n\r\n        await axios.put(`https://my-u-library-mern.herokuapp.com/api/books/${book._id}`, {\r\n            title,\r\n            author,\r\n            year,\r\n            genre,\r\n            stock: stock - 1\r\n        });\r\n\r\n        getData();\r\n    }\r\n\r\n    return (\r\n        <>\r\n            {role == 1 &&\r\n                <div>\r\n\r\n                    <div className=\"container-sm p-5\">\r\n                        <h4>Books</h4>\r\n                        <Link to=\"/create-book\" className=\"btn btn-info mb-5\">Create Book</Link>\r\n                        <table className=\"table\">\r\n                            <thead>\r\n                                <tr>\r\n                                    <th scope=\"col\">#</th>\r\n                                    <th scope=\"col\">Title</th>\r\n                                    <th scope=\"col\">Author</th>\r\n                                    <th scope=\"col\">Genre</th>\r\n                                    <th scope=\"col\">Published Year</th>\r\n                                    <th scope=\"col\">Stock</th>\r\n                                    <th scope=\"col\">Actions</th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                                {\r\n                                    book.map((book, index) => (\r\n                                        <tr>\r\n                                            <th scope=\"row\">{index + 1}</th>\r\n                                            <td>{book.title}</td>\r\n                                            <td>{book.author}</td>\r\n                                            <td>{book.genre}</td>\r\n                                            <td>{book.year}</td>\r\n                                            <td>{book.stock}</td>\r\n                                            {role == 1 &&\r\n                                                <td>\r\n                                                    <button\r\n                                                        onClick={() => deleteBook(book._id)}\r\n                                                        className=\"btn btn-danger mr-2\" style={{ marginRight: 5 }}>\r\n                                                        <i className=\"fas fa-trash\"></i>\r\n                                                    </button>\r\n                                                    <Link className=\"btn btn-success\"\r\n                                                        to={\"/edit-book/\" + book._id}\r\n                                                    >\r\n                                                        <i className=\"fas fa-edit\"></i>\r\n                                                    </Link>\r\n                                                </td>\r\n                                            }\r\n                                        </tr>\r\n                                    ))\r\n                                }\r\n                            </tbody>\r\n                        </table>\r\n                    </div>\r\n                </div>\r\n            }\r\n\r\n            {\r\n                role == 2 &&\r\n                <div className=\"container p-5\" style={{ width: 70 + \"%\", margin: \"auto\" }}>\r\n                    <h1 className=\"mb-4\">Books available</h1>\r\n                    <div>\r\n                        <div className=\"input-group flex-nowrap\">\r\n                            <span className=\"input-group-text\" id=\"addon-wrapping\">\r\n                                <i className=\"fas fa-search\"></i>\r\n                            </span>\r\n                            <input type=\"text\" className=\"form-control\" onChange={(e) => setsearch(e.target.value)}\r\n                                placeholder=\"Search books by title, author and genre\" aria-label=\"Username\" aria-describedby=\"addon-wrapping\" />\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"mb-5 justify-content-center p-5 row\">\r\n                        {\r\n                            book.map((book, index) => (\r\n                                book.stock != 0 &&\r\n                                <div className=\"card\" style={{ width: 18 + \"rem\", margin: 10 }}>\r\n                                    <div className=\"card-body\">\r\n                                        <h5 className=\"card-title\">{book.title} </h5>\r\n                                        <small className=\"card-text\">{book.stock} in stock</small>\r\n                                        <p className=\"card-text\">Author: {book.author}</p>\r\n                                        <p className=\"card-text\">Genre: {book.genre}</p>\r\n                                        <a onClick={() => reserveBook(book)} className=\"btn btn-primary\">Reserve</a>\r\n                                    </div>\r\n                                </div>\r\n                            ))\r\n                        }\r\n                    </div>\r\n                </div>\r\n            }\r\n        </>\r\n    )\r\n}\r\n","import React, { useEffect, useState } from 'react'\r\nimport axios from 'axios';\r\nimport { useParams, useHistory } from 'react-router-dom';\r\n\r\nexport const CreateBook = () => {\r\n    const [book, setbook] = useState({})\r\n    const [editing, setediting] = useState(null)\r\n    const { id } = useParams();\r\n    const history = useHistory();\r\n\r\n    useEffect(async () => {\r\n\r\n        if (id) {\r\n            setediting(true)\r\n            const book = await axios.get('https://my-u-library-mern.herokuapp.com/api/books/' + id);\r\n            await setediting(true)\r\n            setbook(book.data)\r\n        }\r\n\r\n    }, [id])\r\n\r\n    const create = () => {\r\n  \r\n        if (editing) {\r\n            \r\n            const updateBook = async () => {\r\n                if (book) {\r\n                    await axios.put(`https://my-u-library-mern.herokuapp.com/api/books/${id}`, book)\r\n                    history.push(`/`);\r\n                }\r\n            }\r\n            \r\n            updateBook();\r\n            \r\n        } else {\r\n            \r\n            const insertBook = async () => {\r\n                if (book) {\r\n                    await axios.post('https://my-u-library-mern.herokuapp.com/api/books', book)\r\n                    history.push(`/`);\r\n                }\r\n            }\r\n            \r\n            insertBook();\r\n        }\r\n    \r\n        \r\n    }\r\n\r\n    return (\r\n        <div class=\"container-sm p-5\">\r\n            <div className=\"mb-3\">\r\n                <label for=\"title\" className=\"form-label\">Title</label>\r\n                <input type=\"text\"\r\n                    value={book.title}\r\n                    onChange={\r\n                        (e) => setbook({ ...book, title: e.target.value })}\r\n                    className=\"form-control\" id=\"title\" aria-describedby=\"emailHelp\" />\r\n            </div>\r\n            <div className=\"mb-3\">\r\n                <label for=\"author\"\r\n                    className=\"form-label\">Author</label>\r\n                <input type=\"text\"\r\n                    value={book.author}\r\n                    onChange={\r\n                        (e) => setbook({ ...book, author: e.target.value })}\r\n                    className=\"form-control\" id=\"author\" aria-describedby=\"emailHelp\" />\r\n            </div>\r\n            <div className=\"mb-3\">\r\n                <label for=\"genre\"\r\n                    className=\"form-label\">Genre</label>\r\n                <input type=\"text\"\r\n                    value={book.genre}\r\n                    onChange={\r\n                        (e) => setbook({ ...book, genre: e.target.value })}\r\n                    className=\"form-control\" id=\"genre\" aria-describedby=\"emailHelp\" />\r\n            </div>\r\n            <div className=\"mb-3\">\r\n                <label for=\"year\"\r\n                    className=\"form-label\">Published Year</label>\r\n                <input type=\"number\"\r\n                    value={book.year}\r\n                    onChange={\r\n                        (e) => setbook({ ...book, year: e.target.value })}\r\n                    className=\"form-control\" id=\"year\" aria-describedby=\"emailHelp\" />\r\n            </div>\r\n            <div className=\"mb-3\">\r\n                <label for=\"stock\"\r\n                    className=\"form-label\">Stok</label>\r\n                <input type=\"number\"\r\n                    value={book.stock}\r\n                    onChange={\r\n                        (e) => setbook({ ...book, stock: e.target.value })}\r\n                    className=\"form-control\" id=\"stock\" aria-describedby=\"emailHelp\" />\r\n            </div>\r\n\r\n            {editing && <button onClick={create} className=\"btn btn-success\">Update</button> || <button onClick={create} className=\"btn btn-primary\">Submit</button>}\r\n            <hr />\r\n\r\n        </div>\r\n    )\r\n}\r\n","import React, { useEffect, useState } from 'react'\r\nimport axios from 'axios';\r\nimport { Link, useHistory } from 'react-router-dom'\r\n\r\nimport Cookies from 'universal-cookie';\r\nconst cookies = new Cookies();\r\nconst ROLE = cookies.get('role');\r\n\r\nexport const UserList = () => {\r\n\r\n    const history = useHistory();\r\n\r\n    if(ROLE!=1){\r\n        history.replace(`/`);\r\n    }\r\n\r\n    const [user, setuser] = useState([]);\r\n\r\n    async function getData() {\r\n        const res = await axios.get('https://my-u-library-mern.herokuapp.com/api/users');\r\n        setuser(res.data);\r\n    }\r\n\r\n    useEffect(() => {\r\n\r\n        getData();\r\n\r\n    }, [])\r\n\r\n    const deleteUser = async (id) => {\r\n        await axios.delete(`https://my-u-library-mern.herokuapp.com/api/users/${id}`);\r\n        getData();\r\n    }\r\n\r\n    return (\r\n        <>\r\n\r\n            <div class=\"container-sm p-5\">\r\n                <h4>Users</h4>\r\n                <div className=\"mb-5\">\r\n                    <Link to=\"/create-user\" className=\"btn btn-info\">Create User</Link>\r\n                </div>\r\n                <table class=\"table\">\r\n                    <thead>\r\n                        <tr>\r\n                            <th scope=\"col\">#</th>\r\n                            <th scope=\"col\">Name</th>\r\n                            <th scope=\"col\">Email</th>\r\n                            <th scope=\"col\">Role</th>\r\n                            <th scope=\"col\">Actions</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {\r\n                            user.map((user, index) => (\r\n                                <tr>\r\n                                    <th scope=\"row\">{index + 1}</th>\r\n                                    <td>{user.first_name + \" \" + user.last_name}</td>\r\n                                    <td>{user.email}</td>\r\n                                    <td>{\r\n                                        user.role == 1 ? 'Librarian' : 'Student'\r\n                                    }</td>\r\n                                    <td>\r\n                                        <button\r\n                                        onClick={()=>deleteUser(user._id)} \r\n                                        className=\"btn btn-danger mr-2\" style={{ marginRight: 5 }}>\r\n                                            <i className=\"fas fa-trash\"></i>\r\n                                        </button>\r\n                                        <Link className=\"btn btn-success\"\r\n                                        to={\"/edit-user/\" + user._id}\r\n                                        >\r\n                                            <i className=\"fas fa-edit\"></i>\r\n                                        </Link>\r\n                                    </td>\r\n                                </tr>\r\n                            ))\r\n                        }\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n","import React, { useEffect, useState } from 'react'\r\nimport axios from 'axios';\r\nimport { useParams, useHistory } from 'react-router-dom';\r\n\r\nimport Cookies from 'universal-cookie';\r\nconst cookies = new Cookies();\r\n\r\nconst ROLE = cookies.get('role');\r\n\r\n\r\nexport const CreateUser = () => {\r\n\r\n\r\n    const [user, setuser] = useState({})\r\n    const [editing, setediting] = useState(null)\r\n    const { id } = useParams();\r\n    const history = useHistory();\r\n\r\n    if(ROLE!=\"1\"){\r\n        history.replace(`/`);\r\n    }\r\n\r\n    useEffect(async () => {\r\n\r\n        if (id) {\r\n            setediting(true)\r\n            const user = await axios.get('https://my-u-library-mern.herokuapp.com/api/users/' + id);\r\n            await setediting(true)\r\n            setuser(user.data)\r\n        }\r\n\r\n    }, [id])\r\n\r\n    const create = () => {\r\n  \r\n        if (editing) {\r\n            \r\n            const updateUser = async () => {\r\n                if (user) {\r\n                    await axios.put(`https://my-u-library-mern.herokuapp.com/api/users/${id}`, user)\r\n                    history.push(`/users`);\r\n                }\r\n            }\r\n            \r\n            updateUser();\r\n            \r\n        } else {\r\n            \r\n            const insertUser = async () => {\r\n                if (user) {\r\n                    await axios.post('https://my-u-library-mern.herokuapp.com/api/users', user)\r\n                    history.push(`/users`);\r\n                }\r\n            }\r\n            \r\n            insertUser();\r\n        }\r\n    \r\n        \r\n    }\r\n\r\n    return (\r\n        <div class=\"container-sm p-5\">\r\n            <div className=\"mb-3\">\r\n                <label for=\"first_name\" className=\"form-label\">First Name</label>\r\n                <input type=\"text\"\r\n                    value={user.first_name}\r\n                    onChange={\r\n                        (e) => setuser({ ...user, first_name: e.target.value })}\r\n                    className=\"form-control\" id=\"first_name\" aria-describedby=\"emailHelp\" />\r\n            </div>\r\n            <div className=\"mb-3\">\r\n                <label for=\"last_name\"\r\n                    className=\"form-label\">Last Name</label>\r\n                <input type=\"text\"\r\n                    value={user.last_name}\r\n                    onChange={\r\n                        (e) => setuser({ ...user, last_name: e.target.value })}\r\n                    className=\"form-control\" id=\"last_name\" aria-describedby=\"emailHelp\" />\r\n            </div>\r\n            <div className=\"mb-3\">\r\n                <label for=\"email\"\r\n                    className=\"form-label\">Email address</label>\r\n                <input type=\"email\"\r\n                    value={user.email}\r\n                    onChange={\r\n                        (e) => setuser({ ...user, email: e.target.value })}\r\n                    className=\"form-control\" id=\"email\" aria-describedby=\"emailHelp\" />\r\n            </div>\r\n            <div className=\"mb-3\">\r\n                <label for=\"role\" className=\"form-label\">Role</label>\r\n                <select\r\n                    value={user.role}\r\n                    onChange={\r\n                        (e) => setuser({ ...user, role: e.target.value })}\r\n                    class=\"form-select mb-3\" id=\"role\" aria-label=\"Default select example\">\r\n                    <option>Select a role...</option>\r\n                    <option value=\"1\">Librarian</option>\r\n                    <option value=\"2\">Student</option>\r\n                </select>\r\n            </div>\r\n\r\n            {editing && <button onClick={create} className=\"btn btn-success\">Update</button> || <button onClick={create} className=\"btn btn-primary\">Submit</button>}\r\n            <hr />\r\n\r\n        </div>\r\n\r\n    )\r\n}\r\n","import React, { Component, useEffect, useState } from 'react'\r\nimport { Link, useHistory } from 'react-router-dom'\r\nimport Cookies from 'universal-cookie';\r\nimport axios from 'axios';\r\n\r\nconst cookies = new Cookies();\r\n\r\nexport const Navigation = () => {\r\n\r\n    const history = useHistory();\r\n    const ROLE = cookies.get('role');\r\n    const SESSION_ID = cookies.get('id');\r\n\r\n    const logout = () => {\r\n        cookies.remove('id');\r\n        cookies.remove('role');\r\n        history.replace('/login');\r\n    }\r\n\r\n    const [user, setuser] = useState({})\r\n\r\n    async function getData() {\r\n        const res2 = await axios.get(`https://my-u-library-mern.herokuapp.com/api/users/${SESSION_ID}`);\r\n        setuser(res2.data);\r\n    }\r\n\r\n    useEffect(() => {\r\n        getData()\r\n    }, [])\r\n\r\n    return (\r\n\r\n\r\n\r\n        <nav class=\"navbar navbar-expand navbar-light bg-light\">\r\n            <div class=\"container\">\r\n                <div className=\"d-flex\">\r\n                    <Link className=\"navbar-brand\" to=\"/\">\r\n                        <img src=\"https://images-na.ssl-images-amazon.com/images/I/3112PVTrnDL.png\" alt=\"\" width=\"30\" height=\"\" className=\"d-inline-block align-text-top\" />\r\n                        My U Library\r\n                    </Link>\r\n                    <button className=\"navbar-toggler\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#navbarNav\" aria-controls=\"navbarNav\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n                        <span className=\"navbar-toggler-icon\"></span>\r\n                    </button>\r\n                    <div className=\"collapse navbar-collapse\" id=\"navbarNav\">\r\n                        <ul className=\"navbar-nav d-flex\">\r\n                            <li className=\"nav-item\">\r\n                                <Link className=\"nav-link active\" aria-current=\"page\" to=\"/\">Books</Link>\r\n                            </li>\r\n                            {ROLE == 1 &&\r\n                                <li className=\"nav-item\">\r\n                                    <Link className=\"nav-link\" to=\"/users\">Users</Link>\r\n                                </li>\r\n                            }\r\n\r\n                            <li className=\"nav-item\">\r\n                                <Link className=\"nav-link\" to=\"/reservations\">Reservations</Link>\r\n                            </li>\r\n\r\n\r\n                        </ul>\r\n                    </div>\r\n                </div>\r\n                <div class=\"d-flex\">\r\n                    <a className=\"nav-link\" >{user.first_name + \" \" + user.last_name}</a>\r\n                    <div className=\"navbar-nav d-flex\">\r\n                        <li className=\"nav-item\">\r\n                            <a style={{ cursor: 'pointer' }} onClick={logout} className=\"nav-link\" tabIndex=\"-1\">Logout</a>\r\n                        </li>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </nav>\r\n    )\r\n}\r\n","import React, { useEffect, useState } from 'react'\r\nimport axios from 'axios';\r\nimport { Link, useHistory } from 'react-router-dom'\r\nimport Cookies from 'universal-cookie';\r\n\r\nconst cookies = new Cookies();\r\n\r\n\r\nexport const ReservationList = () => {\r\n\r\n    const [reserv, setreserv] = useState([]);\r\n    const [info, setinfo] = useState({})\r\n\r\n    async function getData() {\r\n\r\n        const ROLE = cookies.get('role');\r\n        const SESSION_ID = cookies.get('id');\r\n\r\n        setinfo({\r\n            role: ROLE,\r\n            sessionid: SESSION_ID\r\n        })\r\n\r\n        if (ROLE == \"1\") {\r\n            const res = await axios.get('https://my-u-library-mern.herokuapp.com/api/reservations');\r\n            setreserv(res.data);\r\n        } else if (ROLE == \"2\") {\r\n            const res = await axios.get(`https://my-u-library-mern.herokuapp.com/api/reservations/user/${SESSION_ID}`);\r\n            setreserv(res.data);\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n\r\n        getData();\r\n\r\n    }, [])\r\n\r\n    const returnBook = async(resv) => {\r\n\r\n        const {_id, id_user, id_book, book, author, student, status} = resv;\r\n        await axios.put(`https://my-u-library-mern.herokuapp.com/api/reservations/${_id}`, {\r\n            _id, \r\n            id_user, \r\n            id_book, \r\n            book, author, \r\n            student, \r\n            status:0\r\n        });\r\n        getData();\r\n\r\n    }\r\n\r\n    const returnToStock = async (resv) => {\r\n\r\n        const {_id, id_book} = resv;\r\n\r\n        const book = await axios.get(`https://my-u-library-mern.herokuapp.com/api/books/${id_book}`);\r\n        const { title, author, year, genre, stock } =  book.data;\r\n\r\n        await axios.delete(`https://my-u-library-mern.herokuapp.com/api/reservations/${_id}`);\r\n\r\n        await axios.put(`https://my-u-library-mern.herokuapp.com/api/books/${id_book}`, { \r\n            title, \r\n            author, \r\n            year, \r\n            genre, \r\n            stock: stock+1\r\n        });\r\n\r\n        getData();\r\n    }\r\n\r\n    return (\r\n        <div className=\"container justify-content-center p-5 row\" style={{ width: 70 + \"%\", margin: \"auto\" }}>\r\n            <h1 className=\"mb-4\">Reserved Books</h1>\r\n            {\r\n                reserv.map((res) => (\r\n                    <div className=\"card\" style={{ width: 18 + \"rem\", margin: 10 }}>\r\n                        <div className=\"card-body\">\r\n                            <h5 className=\"card-title\">{res.book}</h5>\r\n                            <p className=\"card-text\">Author: {res.author}</p>\r\n                            {\r\n                                info.role == 1 &&\r\n                                <div>\r\n                                    <p className=\"card-text\">Reserved By: {res.student}</p>\r\n                                    {\r\n                                        res.status == 0 &&\r\n                                        <a onClick={()=>returnToStock(res)} className=\"btn btn-warning\">Return to Stock</a>\r\n                                    }\r\n                                </div>\r\n                            }\r\n                            {\r\n                                info.role == 2 && res.status == 1 &&  \r\n                                <a onClick={()=>returnBook(res)} className=\"btn btn-primary\">Return Book</a>\r\n                            }\r\n                            {\r\n                                info.role == 2 && res.status == 0 &&  \r\n                                <p className=\"card-text text-success\">Returned <i class=\"far fa-check-circle\"></i></p>\r\n                            }\r\n\r\n                        </div>\r\n                    </div>\r\n                ))\r\n            }\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\r\nimport Cookies from 'universal-cookie';\r\n\r\nimport { BookList } from './BookList';\r\nimport { CreateBook } from './CreateBook';\r\nimport { UserList } from './UserList';\r\nimport { CreateUser } from './CreateUser';\r\nimport { Navigation } from './Navigation';\r\nimport { ReservationList } from './ReservationList';\r\n\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nconst cookies = new Cookies();\r\n\r\nexport const DashboardRoutes = () => {\r\n\r\n    const history = useHistory();\r\n\r\n    const SESSION_ID = cookies.get('id');\r\n\r\n    if(!SESSION_ID){\r\n        history.replace(`/login`);\r\n    }\r\n\r\n    return (\r\n        <>  \r\n            <Navigation />\r\n            <Route path=\"/\" exact component={BookList} />\r\n            <Route path=\"/books\" exact component={BookList} />\r\n            <Route path=\"/users\" exact component={UserList} />\r\n            <Route path=\"/reservations\" exact component={ReservationList} />\r\n            <Route path=\"/edit-book/:id\" exact component={CreateBook} />\r\n            <Route path=\"/create-book\" exact component={CreateBook} />\r\n            <Route path=\"/edit-user/:id\" exact component={CreateUser} />\r\n            <Route path=\"/create-user\" exact component={CreateUser} />\r\n        </>\r\n    )\r\n}\r\n","import { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\nimport 'bootstrap/dist/css/bootstrap.min.css'\nimport 'bootstrap/dist/js/bootstrap'\nimport './App.css';\n\nimport { Login } from './components/Login';\nimport { DashboardRoutes } from './components/DashboardRoutes';\n\nfunction App() {\n  return (\n    <div className=\"\">\n      <Router>\n        <Switch>\n          <Route exact path=\"/login\"\n            component={Login}>\n          </Route>\n          <Route path=\"/\"\n            component={DashboardRoutes}>\n          </Route>\n        </Switch>\n        \n\n      </Router>\n    </div>\n\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}